<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" />
<f:metadata>
	<f:viewAction action="#{userBean.isLoggedIn()}" />
</f:metadata>
<title>user-management-web | echo_list</title>
</head>
<body>
	#{userBean.setUser(null)}
	<h:form>
		<h1>Create a new user</h1>
		<h:outputLabel>Username</h:outputLabel>
		<h:inputText title="username" value="#{userBean.user.username}" />
		<br />
		<h:outputLabel>Chose one or more role</h:outputLabel>
		<h:selectManyListbox value="#{userBean.rolesId}"
			converter="javax.faces.Integer">
			<f:selectItems value="#{roleBean.allRoles}" var="y"
				itemLabel="#{y.role}" itemValue="#{y.id}" />
		</h:selectManyListbox>
		<br />
		<h:commandButton value="Insert"
			actionListener="#{userBean.insertUser(userBean.user)}"
			action="users_list?faces-redirect=true" />
		<h:commandButton value="back" action="users_list?faces-redirect=true" />
	</h:form>

</body>
</html>
